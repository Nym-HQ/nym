@media (prefers-color-scheme: dark) {
  .ce-toolbar__actions .ce-toolbar__plus svg,
  .ce-toolbar__actions .ce-toolbar__settings-btn svg {
    @apply text-gray-700 dark:text-gray-400;
  }
  .codex-editor .ce-block__content {
    @apply text-gray-700 dark:text-gray-400;
  }

  .codex-editor .ce-block__content blockquote {
    @apply font-normal border-l-2 border-gray-200 dark:border-gray-800 dark:text-gray-400;
  }

  .codex-editor .ce-block__content figure {
    @apply md:-mx-6;
  }

  .codex-editor .ce-block__content img {
    @apply w-full rounded-md;
  }

  .codex-editor .ce-block__content a {
    @apply font-normal text-blue-600 no-underline break-words hover:underline dark:text-blue-500;
  }

  .codex-editor .ce-block__content a code {
    @apply text-blue-600 dark:text-blue-500;
  }

  .codex-editor .ce-block__content table {
    @apply my-2 border border-gray-200 rounded-md text-gray-1000 dark:border-gray-800 dark:text-gray-50;
  }

  .codex-editor .ce-block__content.comment table {
    @apply my-2;
  }

  .codex-editor .ce-block__content thead {
    @apply text-gray-800 dark:text-gray-200;
  }

  .codex-editor .ce-block__content thead th {
    @apply p-2;
    padding-left: 1rem !important;
  }

  .codex-editor .ce-block__content thead th,
  .codex-editor .ce-block__content tbody th,
  .codex-editor .ce-block__content tbody td {
    @apply p-2 border-r border-gray-200 dark:border-gray-800;
    padding-left: 1rem !important;
  }

  .codex-editor .ce-block__content tbody tr {
    @apply border-b border-gray-200 dark:border-gray-800;
  }

  .codex-editor .ce-block__content thead tr {
    @apply border-b-2 border-gray-200 dark:border-gray-800;
  }

  .codex-editor .ce-block__content tbody tr:nth-child(2n) {
    @apply bg-gray-50 dark:bg-gray-900;
  }

  .codex-editor .ce-block__content b,
  .codex-editor .ce-block__content strong {
    @apply font-bold text-gray-900 dark:text-gray-300;
  }

  .codex-editor .ce-block__content hr {
    @apply border-gray-200 dark:border-gray-800;
  }

  /* the kg-embed-card gets applied to iframes sent from Ghost. this preserves a good video aspect ratio */
  .codex-editor .ce-block__content .kg-embed-card {
    @apply my-4;
    position: relative;
    padding-top: 56.25%;
  }

  .codex-editor .ce-block__content .kg-embed-card iframe {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
  }

  .codex-editor .ce-block__content h1 {
    @apply text-3xl;
  }
  .codex-editor .ce-block__content h2 {
    @apply text-2xl;
  }
  .codex-editor .ce-block__content h3 {
    @apply text-xl;
  }
  .codex-editor .ce-block__content h4 {
    @apply text-lg;
  }
  .codex-editor .ce-block__content h5 {
    @apply text-sm;
  }
  .codex-editor .ce-block__content h6 {
    @apply text-xs;
  }

  .codex-editor .ce-block__content h1,
  .codex-editor .ce-block__content h2,
  .codex-editor .ce-block__content h3,
  .codex-editor .ce-block__content h4,
  .codex-editor .ce-block__content h5,
  .codex-editor .ce-block__content h6 {
    @apply font-sans font-bold text-gray-900 dark:text-gray-100;
    scroll-margin-top: 4rem;
  }

  .codex-editor .ce-block__content h1 a,
  .codex-editor .ce-block__content h2 a,
  .codex-editor .ce-block__content h3 a,
  .codex-editor .ce-block__content h4 a,
  .codex-editor .ce-block__content h5 a,
  .codex-editor .ce-block__content h6 a {
    @apply font-sans font-bold no-underline text-gray-1000 dark:text-gray-100;
  }

  .codex-editor .ce-block__content h5 {
    @apply mt-12 -mb-3 text-xl;
  }

  .codex-editor .ce-block__content pre {
    @apply px-8 py-6 space-y-4 text-sm text-gray-800 bg-gray-400 border-gray-300 rounded-md bg-opacity-5 dark:border-gray-800 dark:text-gray-200;
  }

  .codex-editor .ce-block__content.comment {
    @apply max-w-none;
  }

  .codex-editor .ce-block__content.comment pre {
    @apply px-3 py-2 my-2;
  }

  /* this is needed to avoid HN comments from overflowing off the right edge of the screen */
  .codex-editor .ce-block__content p {
    @apply break-words;
    word-break: break-word;
  }

  .codex-editor .ce-block__content.comment p,
  .codex-editor .ce-block__content.comment ul,
  .codex-editor .ce-block__content.comment ol {
    @apply my-3;
  }

  .codex-editor .ce-block__content.comment p:first-of-type {
    margin-top: 0 !important;
  }

  .codex-editor .ce-block__content.comment p + p {
    margin-top: 0;
  }

  .codex-editor .ce-block__content.comment pre {
    @apply my-3;
  }

  .codex-editor .ce-block__content.comment a {
    @apply break-all;
  }

  .codex-editor .ce-block__content p + p {
    margin-top: 0;
  }

  .codex-editor .ce-block__content code {
    @apply rounded-md border-gray-100 bg-gray-100 px-1 py-0.5 text-gray-800 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-200;
  }

  .codex-editor .ce-block__content code,
  .codex-editor .ce-block__content pre {
    @apply text-sm font-medium whitespace-pre-wrap;
    word-break: break-word;
  }

  .codex-editor .ce-block__content pre > code {
    @apply text-gray-200 bg-gray-800;
  }

  .codex-editor .ce-block__content pre {
    @apply text-gray-100 bg-gray-800;
  }

  .codex-editor .ce-block__content sup {
    @apply text-sm text-blue-500 dark:text-gray-400;
    vertical-align: super;
    top: 0px;
    position: relative;
    scroll-margin-top: 4rem;
  }

  /* Button tool plugin */
  .codex-editor
    .ce-block__content
    .anyButtonContainer
    .anyButtonContainer__input--link {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 277.279 277.279" height="20" width="20" fill="#ffffff"><path d="m149.245 191.671-42.425 42.426-.001.001-.001.001c-17.544 17.545-46.092 17.546-63.638 0-8.5-8.5-13.18-19.801-13.18-31.82 0-12.018 4.68-23.317 13.177-31.817l.003-.003 42.425-42.426c5.857-5.858 5.857-15.356-.001-21.213-5.857-5.857-15.355-5.857-21.213 0l-42.425 42.426-.009.01C7.798 163.42 0 182.251 0 202.279c0 20.033 7.801 38.867 21.967 53.033C36.589 269.933 55.794 277.244 75 277.244c19.206 0 38.412-7.311 53.032-21.932v-.001l.001-.001 42.425-42.426c5.857-5.857 5.857-15.355-.001-21.213-5.856-5.857-15.353-5.857-21.212 0zM277.279 75c0-20.033-7.802-38.867-21.968-53.033-29.243-29.242-76.824-29.241-106.065 0l-.004.005-42.424 42.423c-5.858 5.857-5.858 15.356 0 21.213a14.952 14.952 0 0 0 10.607 4.394c3.838 0 7.678-1.465 10.606-4.394l42.424-42.423.005-.005c17.544-17.544 46.092-17.545 63.638 0 8.499 8.5 13.181 19.801 13.181 31.82 0 12.018-4.68 23.317-13.178 31.817l-.003.003-42.425 42.426c-5.857 5.857-5.857 15.355.001 21.213a14.954 14.954 0 0 0 10.606 4.394c3.839 0 7.678-1.465 10.607-4.394l42.425-42.426.009-.01C269.48 113.859 277.279 95.028 277.279 75z"/><path d="M85.607 191.671a14.954 14.954 0 0 0 10.606 4.394c3.839 0 7.678-1.465 10.607-4.394l84.852-84.852c5.858-5.857 5.858-15.355 0-21.213-5.857-5.857-15.355-5.857-21.213 0l-84.852 84.851c-5.858 5.859-5.858 15.357 0 21.214z"/></svg>');
  }
  .codex-editor
    .ce-block__content
    .anyButtonContainer
    .anyButtonContainer__input--text {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20" width="20" fill="#ffffff"><path d="M15 114.235c8.284 0 15-6.716 15-15V30h69.235c8.284 0 15-6.716 15-15s-6.716-15-15-15H15C6.716 0 0 6.716 0 15v84.235c0 8.285 6.716 15 15 15zM497 0h-84.235c-8.284 0-15 6.716-15 15s6.716 15 15 15H482v69.235c0 8.284 6.716 15 15 15s15-6.716 15-15V15c0-8.284-6.716-15-15-15zm0 397.765c-8.284 0-15 6.716-15 15V482h-69.235c-8.284 0-15 6.716-15 15s6.716 15 15 15H497c8.284 0 15-6.716 15-15v-84.235c0-8.285-6.716-15-15-15zM99.235 482H30v-69.235c0-8.284-6.716-15-15-15s-15 6.716-15 15V497c0 8.284 6.716 15 15 15h84.235c8.284 0 15-6.716 15-15s-6.715-15-15-15zM419.66 191.38V96.65c0-4.7-3.81-8.51-8.52-8.51H100.86c-4.71 0-8.52 3.81-8.52 8.51v94.73c0 4.71 3.81 8.52 8.52 8.52h45.24c4.7 0 8.51-3.81 8.51-8.52v-32.45a8.52 8.52 0 0 1 8.52-8.52h53.21c4.71 0 8.52 3.81 8.52 8.52v234.14c0 4.71-3.81 8.52-8.52 8.52h-23.27c-4.71 0-8.52 3.81-8.52 8.52v45.24c0 4.7 3.81 8.51 8.52 8.51h125.86c4.71 0 8.52-3.81 8.52-8.51v-45.24c0-4.71-3.81-8.52-8.52-8.52h-23.27c-4.71 0-8.52-3.81-8.52-8.52V158.93c0-4.71 3.81-8.52 8.52-8.52h53.21c4.7 0 8.52 3.81 8.52 8.52v32.45c0 4.71 3.81 8.52 8.51 8.52h45.24c4.71 0 8.52-3.81 8.52-8.52z"/></svg>');
  }
  .codex-editor
    .ce-block__content
    .anyButtonContainer
    .anyButtonContainer__input[contentEditable='true'][data-placeholder]::before {
    @apply text-gray-700 dark:text-gray-400;
  }
  .codex-editor .ce-block__content .anyButtonContainer .btn {
    color: #212529;
  }
  .codex-editor .ce-block__content .anyButtonContainer .btn--default {
    color: #fff;
    background-color: #0d6efd;
    border-color: #0d6efd;
  }
  .codex-editor .ce-block__content .anyButtonContainer .btn--gray {
    color: #fff;
    background-color: #7c7c7c;
    border-color: #7c7c7c;
  }

  /* Link Tool */
  .codex-editor .ce-block__content .link-tool {
    position: relative;
  }
  .codex-editor .ce-block__content .link-tool__input {
    @apply text-gray-700 dark:text-gray-400 bg-white dark:bg-black;
  }
  .codex-editor .ce-block__content .link-tool__input-holder--error {
    @apply bg-white dark:bg-black;
  }
  .codex-editor .ce-block__content .link-tool__content--rendered {
    @apply bg-white dark:bg-black;
  }
  .codex-editor .ce-block__content .link-tool .link-tool__content--rendered.link-tool__content--html {
    padding: 0;
    overflow: hidden;
    @apply rounded-xl;
  }
  .codex-editor .ce-block__content .link-tool__title {
    @apply text-gray-700 dark:text-gray-400;
  }
  .codex-editor .ce-block__content .link-tool__description {
    @apply text-gray-700 dark:text-gray-400;
  }
}

.codex-editor .ce-paragraph {
  word-break: break-word;
}
